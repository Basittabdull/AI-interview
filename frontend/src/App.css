/* --- Global Animations & Theme --- */
@keyframes glow {
    from { background-color: transparent; }
    to { background-color: rgba(34, 211, 238, 0.1); }
}

@keyframes pulse {
    0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(6, 182, 212, 0.7); }
    70% { transform: scale(1); box-shadow: 0 0 0 20px rgba(6, 182, 212, 0); }
    100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(6, 182, 212, 0); }
}

/* --- App Layout --- */
.app-header, .app-footer {
    flex-shrink: 0;
    padding: 20px 24px;
    background-color: var(--card-background);
    border-color: var(--border-color);
    z-index: 1000;
}
.app-header {
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.app-footer {
    border-top: 1px solid var(--border-color);
    text-align: center;
    font-size: 0.875rem;
    color: var(--text-color-light);
}
.app-footer a {
    color: var(--text-color-medium);
    text-decoration: none;
    margin: 0 8px;
}
.app-footer a:hover { color: var(--primary-color); }

.logo {
    font-weight: 700;
    font-size: 1.5rem;
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--primary-color);
}

.page-container {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 24px;
}

/* --- Theme Switcher --- */
.theme-switcher { position: relative; }
.theme-switcher button { background: none; border: none; cursor: pointer; color: var(--text-color-medium); padding: 4px;}
.theme-switcher .dropdown { position: absolute; top: 140%; right: 0; background-color: var(--card-background); border: 1px solid var(--border-color); border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); padding: 8px; display: none; width: 150px; z-index: 1001; }
.theme-switcher .dropdown.show { display: block; }
.theme-switcher .option { display: flex; align-items: center; gap: 8px; padding: 8px; border-radius: 6px; cursor: pointer; font-size: 1rem; }
.theme-switcher .option:hover { background-color: var(--background-color); }
.theme-switcher .swatch { width: 16px; height: 16px; border-radius: 50%; border: 1px solid var(--border-color); }

/* --- Generic Page & Button Styles --- */
.page {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    width: 100%;
    flex-grow: 1;
}

.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 24px;
    border: 1px solid transparent;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}
.btn-primary { background-color: var(--primary-color); color: white; }
.btn-primary:hover { background-color: var(--primary-hover-color); }
.btn-primary:disabled { background-color: #94A3B8; cursor: not-allowed; }
.btn-secondary { background-color: var(--card-background); color: var(--text-color-dark); border: 1px solid var(--border-color); }
.btn-secondary:hover { background-color: var(--background-color); }
.btn-danger { background-color: var(--danger-color); color: white; }

/* --- Screen 1: Welcome / Instructions --- */
.welcome-message { font-size: 2rem; font-weight: 700; margin: 24px 0; max-width: 600px; }
.instructions-list { list-style: none; text-align: left; max-width: 500px; margin-bottom: 40px; display: grid; gap: 24px; }
.instructions-list li { display: flex; align-items: center; gap: 16px; font-size: 1.1rem; }
.instructions-list .icon { color: var(--primary-color); }

/* --- Screen 2: Hardware Check --- */
.hardware-check-page h1 { font-size: 1.75rem; margin: 16px 0 24px; }
.hardware-check-area { width: 100%; display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 32px; }
.check-item { background-color: var(--card-background); padding: 24px; border-radius: 12px; border: 1px solid var(--border-color); }
.video-feed-container { background-color: #000; border-radius: 8px; overflow: hidden; aspect-ratio: 4 / 3; position: relative; }
.video-feed-container video { width: 100%; height: 100%; object-fit: cover; transform: scaleX(-1); }
.mic-check-container { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; }
.mic-visualizer { width: 100%; height: 60px; background-color: var(--background-color); border-radius: 8px; position: relative; overflow: hidden; }
.mic-level { position: absolute; top: 0; left: 0; height: 100%; background-color: var(--success-color); width: 0%; transition: width 0.1s linear; }
.status-indicators { margin-top: 16px; display: grid; gap: 8px; }
.status { display: flex; align-items: center; gap: 8px; font-weight: 500; }
.status.success { color: var(--success-color); }
.status.pending { color: var(--text-color-medium); }

/* --- Screen 3: Interview Room --- */
.interview-room { width: 100%; flex-grow: 1; display: flex; flex-direction: column; }
.interview-header { width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 12px 0; }
.proctoring-notice { display: flex; align-items: center; gap: 8px; font-size: 0.875rem; color: var(--text-color-medium); }
.timer { font-size: 1.1rem; font-weight: 600; color: var(--primary-color); }

.interview-tabs { display: flex; border-bottom: 1px solid var(--border-color); }
.tab-button { padding: 12px 20px; border: none; background: none; cursor: pointer; color: var(--text-color-medium); border-bottom: 2px solid transparent; font-size: 1rem; transition: color 0.2s, border-color 0.2s; }
.tab-button.active { color: var(--primary-color); border-bottom-color: var(--primary-color); font-weight: 600; }
.tab-button.notify { animation: glow 1.5s infinite alternate; }

.interview-tab-content { flex-grow: 1; position: relative; }
.tab-panel { display: none; height: 100%; }
.tab-panel.active { display: flex; }

.ai-conversation-view { width: 100%; flex-direction: column; justify-content: center; align-items: center; position: relative; padding-top: 24px; }
.candidate-video-container { position: absolute; bottom: 24px; right: 24px; width: 220px; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.1); background-color: var(--card-background); }
.candidate-video-container .video-feed-container { border-bottom-left-radius: 0; border-bottom-right-radius: 0; }
.avatar-placeholder { background-color: var(--text-color-dark); color: var(--background-color); font-size: 3rem; font-weight: 600; display: none; align-items: center; justify-content: center; width: 100%; height: 100%; }
.video-feed-container.video-off .avatar-placeholder { display: flex; }
.video-feed-container.video-off video { display: none; }

.call-controls { display: flex; justify-content: center; align-items: center; gap: 16px; padding: 8px; background-color: rgba(0,0,0,0.3); backdrop-filter: blur(4px); }
.control-btn { background: none; border: none; color: white; cursor: pointer; padding: 8px; border-radius: 50%; display: flex; }
.control-btn.danger { color: var(--danger-color); }

.ai-avatar { width: 150px; height: 150px; position: relative; margin-bottom: 24px; }
.ai-avatar .orb { width: 100%; height: 100%; border-radius: 50%; background: radial-gradient(circle, var(--primary-hover-color) 0%, var(--primary-color) 100%); transition: transform 0.3s ease; }
.ai-avatar.speaking .orb { animation: pulse 1.5s infinite; }
.ai-avatar.listening .orb { transform: scale(1.1); }

.conversation-status { text-align: center; height: 120px; }
.status-text { font-size: 1.5rem; font-weight: 500; color: var(--text-color-medium); margin-bottom: 16px; }
.transcript-text { min-height: 50px; font-size: 1.1rem; }

.coding-challenge-view { width: 100%; display: grid; grid-template-columns: 350px 1fr; gap: 24px; padding-top: 24px; }
.problem-description { background-color: var(--card-background); border: 1px solid var(--border-color); border-radius: 12px; padding: 24px; overflow-y: auto; text-align: left;}
.problem-description h2 { margin-bottom: 16px; }
.problem-description pre { background-color: var(--background-color); padding: 12px; border-radius: 8px; white-space: pre-wrap; word-wrap: break-word; }
.coding-area { display: flex; flex-direction: column; }
.code-editor-container { flex-grow: 1; position: relative; background-color: #1E293B; color: #F8FAFC; border-radius: 12px; overflow: hidden; }
.code-editor-container textarea { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: transparent; border: none; color: inherit; font-family: monospace; font-size: 1rem; line-height: 1.5; padding: 20px; resize: none; }
.code-editor-container textarea:focus { outline: none; }
.coding-actions { margin-top: 16px; display: flex; justify-content: flex-end; gap: 12px; }

/* --- Responsive Design --- */
@media (max-width: 850px) {
    .hardware-check-area, .coding-challenge-view { grid-template-columns: 1fr; }
    .candidate-video-container { width: 180px; bottom: 16px; right: 16px; }
    .ai-avatar { width: 120px; height: 120px; }
    .status-text { font-size: 1.25rem; }
}